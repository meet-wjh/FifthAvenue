"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var r=0;r<s.length;r++){var c=s[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,s,r){return s&&_defineProperties(e.prototype,s),r&&_defineProperties(e,r),e}var Register=function(){function e(){_classCallCheck(this,e),this.arr=[0,0,0],this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var n=this;$("#agree").click(function(){$(this).css("display","none"),$("#disagree").css("display","block"),$("#reg_btn").attr("disabled","disabled").css("background","#999999")}),$("#disagree").click(function(){$(this).css("display","none"),$("#agree").css("display","block"),$("#reg_btn").removeAttr("disabled").css("background","#333333")});var s=this;$("input").each(function(){var e=this;$(this).focus(function(){$(e).css({border:"1px solid black"})}),$(this).blur(function(){$(e).css({border:"1px solid #cccccc"})})}),$("#psd").focus(function(){$(".psd_warn").css("display","block")}),$("#psd").blur(function(){$(".psd_warn").css("display","none")}),$("#verify_btn").click(function(){var e=$("#cellphone").val();/^(152|182|188|135|178)\d{8}$/.test(e)?(s.arr[0]=1,$(this).css({border:"1px solid #cccccc"})):($("#cellphone").css({border:"1px solid red"}),s.arr[0]=0)}),$("#psd").blur(function(){var e=$(this).val();/^\w{6,20}$/.test(e)?($(this).css({border:"1px solid #cccccc"}),s.arr[1]=1):(s.arr[1]=0,$("#cellphone").css({border:"1px solid red"}))}),$("#affirm_psd").blur(function(){$("#psd").val()===$(this).val()?(s.arr[2]=1,$(this).css({border:"1px solid #cccccc"}),$(".affirm_psd_warn").css("display","none")):(s.arr[2]=0,$(this).css({border:"1px solid red"}),$(".affirm_psd_warn").css("display","block"))}),$("#reg_btn").click(function(){var e,s,r,c;-1===n.arr.indexOf(0)?(e=$("#psd").val(),s=$("#cellphone").val(),r=n.getCookie("registers")?n.getCookie("registers"):"",s in(c=n.convertCookieStrToObj(r))?alert("手机号已注册，请登录"):(c[s]=e,r=JSON.stringify(c),n.setCookie("registers",r,7),location.href="../pages/cart.html")):$("input").each(function(){if(!$(this).val())return $(this).focus().css({border:"1px solid red"}),!1})})}},{key:"setCookie",value:function(e,s,r){e=encodeURIComponent(e)+"="+encodeURIComponent(s);isNaN(r)||((s=new Date).setDate(s.getDate()+Number(r)),e+=";expires="+s),document.cookie=e}},{key:"getCookie",value:function(e){for(var s=document.cookie.split("; "),r=0,c=s.length;r<c;r++){var n=s[r].split("=");if(encodeURIComponent(e)===n[0])return decodeURIComponent(n[1])}}},{key:"convertCookieStrToObj",value:function(e){return e?JSON.parse(e):{}}}]),e}();new Register;